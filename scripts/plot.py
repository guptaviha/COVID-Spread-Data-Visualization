# importing libraries
import dash
from dash import Dash, dcc, html, Input, Output
import plotly.express as px
import pandas
from jupyter_dash import JupyterDash
from flask import Flask, Response
import os

server = Flask(__name__)
app = JupyterDash(__name__, server=server)

df = pandas.read_csv('./static/cases_by_state.csv', index_col= 'date')

app.layout = html.Div(
    [
        html.H1(
            "Confirmed Cases for Covid-19 in US",
            style={"text-align": "center"},
        ),
        dcc.Dropdown(
            id="selected_date",
            options=[
                {"label": "January 14, 2020", "value": '2020-01-14'},
                {"label": "January 15, 2020", "value": '2020-01-15'},
                {"label": "January 16, 2020", "value": '2020-01-16'},
                {"label": "January 17, 2020", "value": '2020-01-17'},
                {"label": "January 18, 2020", "value": '2020-01-18'},
                {"label": "January 19, 2020", "value": '2020-01-19'},
                {"label": "January 20, 2020", "value": '2020-01-20'},
                {"label": "January 21, 2020", "value": '2020-01-21'},
                {"label": "January 22, 2020", "value": '2020-01-22'},
                {"label": "January 23, 2020", "value": '2020-01-23'},
                {"label": "January 24, 2020", "value": '2020-01-24'},
                {"label": "January 25, 2020", "value": '2020-01-25'},
                {"label": "January 26, 2020", "value": '2020-01-26'},
                {"label": "January 27, 2020", "value": '2020-01-27'},
                {"label": "January 28, 2020", "value": '2020-01-28'},
                {"label": "January 29, 2020", "value": '2020-01-29'},
                {"label": "January 30, 2020", "value": '2020-01-30'},
                {"label": "January 31, 2020", "value": '2020-01-31'},


                {"label": "February 1, 2020", "value": '2020-02-01'},
                {"label": "February 2, 2020", "value": '2020-02-02'},
                {"label": "February 3, 2020", "value": '2020-02-03'},
                {"label": "February 4, 2020", "value": '2020-02-04'},
                {"label": "February 5, 2020", "value": '2020-02-05'},
                {"label": "February 6, 2020", "value": '2020-02-06'},
                {"label": "February 7, 2020", "value": '2020-02-07'},
                {"label": "February 8, 2020", "value": '2020-02-08'},
                {"label": "February 9, 2020", "value": '2020-02-09'},
                {"label": "February 10, 2020", "value": '2020-02-10'},
                {"label": "February 11, 2020", "value": '2020-02-11'},
                {"label": "February 12, 2020", "value": '2020-02-12'},
                {"label": "February 13, 2020", "value": '2020-02-13'},
                {"label": "February 14, 2020", "value": '2020-02-14'},
                {"label": "February 15, 2020", "value": '2020-02-15'},
                {"label": "February 16, 2020", "value": '2020-02-16'},
                {"label": "February 17, 2020", "value": '2020-02-17'},
                {"label": "February 18, 2020", "value": '2020-02-18'},
                {"label": "February 19, 2020", "value": '2020-02-19'},
                {"label": "February 20, 2020", "value": '2020-02-20'},
                {"label": "February 21, 2020", "value": '2020-02-21'},
                {"label": "February 22, 2020", "value": '2020-02-22'},
                {"label": "February 23, 2020", "value": '2020-02-23'},
                {"label": "February 24, 2020", "value": '2020-02-24'},
                {"label": "February 25, 2020", "value": '2020-02-25'},
                {"label": "February 26, 2020", "value": '2020-02-26'},
                {"label": "February 27, 2020", "value": '2020-02-27'},
                {"label": "February 28, 2020", "value": '2020-02-28'},
                {"label": "February 29, 2020", "value": '2020-02-29'},

                {"label": "March 1, 2020", "value": '2020-03-01'},
                {"label": "March 2, 2020", "value": '2020-03-02'},
                {"label": "March 3, 2020", "value": '2020-03-03'},
                {"label": "March 4, 2020", "value": '2020-03-04'},
                {"label": "March 5, 2020", "value": '2020-03-05'},
                {"label": "March 6, 2020", "value": '2020-03-06'},
                {"label": "March 7, 2020", "value": '2020-03-07'},
                {"label": "March 8, 2020", "value": '2020-03-08'},
                {"label": "March 9, 2020", "value": '2020-03-09'},
                {"label": "March 10, 2020", "value": '2020-03-10'},
                {"label": "March 11, 2020", "value": '2020-03-11'},
                {"label": "March 12, 2020", "value": '2020-03-12'},
                {"label": "March 13, 2020", "value": '2020-03-13'},
                {"label": "March 14, 2020", "value": '2020-03-14'},
                {"label": "March 15, 2020", "value": '2020-03-15'},
                {"label": "March 16, 2020", "value": '2020-03-16'},
                {"label": "March 17, 2020", "value": '2020-03-17'},
                {"label": "March 18, 2020", "value": '2020-03-18'},
                {"label": "March 19, 2020", "value": '2020-03-19'},
                {"label": "March 20, 2020", "value": '2020-03-20'},
                {"label": "March 21, 2020", "value": '2020-03-21'},
                {"label": "March 22, 2020", "value": '2020-03-22'},
                {"label": "March 23, 2020", "value": '2020-03-23'},
                {"label": "March 24, 2020", "value": '2020-03-24'},
                {"label": "March 25, 2020", "value": '2020-03-25'},
                {"label": "March 26, 2020", "value": '2020-03-26'},
                {"label": "March 27, 2020", "value": '2020-03-27'},
                {"label": "March 28, 2020", "value": '2020-03-28'},
                {"label": "March 29, 2020", "value": '2020-03-29'},
                {"label": "March 30, 2020", "value": '2020-03-30'},
                {"label": "March 31, 2020", "value": '2020-03-31'},

                {"label": "April 1, 2020", "value": '2020-04-01'},
                {"label": "April 2, 2020", "value": '2020-04-02'},
                {"label": "April 3, 2020", "value": '2020-04-03'},
                {"label": "April 4, 2020", "value": '2020-04-04'},
                {"label": "April 5, 2020", "value": '2020-04-05'},
                {"label": "April 6, 2020", "value": '2020-04-06'},
                {"label": "April 7, 2020", "value": '2020-04-07'},
                {"label": "April 8, 2020", "value": '2020-04-08'},
                {"label": "April 9, 2020", "value": '2020-04-09'},
                {"label": "April 10, 2020", "value": '2020-04-10'},
                {"label": "April 11, 2020", "value": '2020-04-11'},
                {"label": "April 12, 2020", "value": '2020-04-12'},
                {"label": "April 13, 2020", "value": '2020-04-13'},
                {"label": "April 14, 2020", "value": '2020-04-14'},
                {"label": "April 15, 2020", "value": '2020-04-15'},
                {"label": "April 16, 2020", "value": '2020-04-16'},
                {"label": "April 17, 2020", "value": '2020-04-17'},
                {"label": "April 18, 2020", "value": '2020-04-18'},
                {"label": "April 19, 2020", "value": '2020-04-19'},
                {"label": "April 20, 2020", "value": '2020-04-20'},
                {"label": "April 21, 2020", "value": '2020-04-21'},
                {"label": "April 22, 2020", "value": '2020-04-22'},
                {"label": "April 23, 2020", "value": '2020-04-23'},
                {"label": "April 24, 2020", "value": '2020-04-24'},
                {"label": "April 25, 2020", "value": '2020-04-25'},
                {"label": "April 26, 2020", "value": '2020-04-26'},
                {"label": "April 27, 2020", "value": '2020-04-27'},
                {"label": "April 28, 2020", "value": '2020-04-28'},
                {"label": "April 29, 2020", "value": '2020-04-29'},
                {"label": "April 30, 2020", "value": '2020-04-30'},

                {"label": "May 1, 2020", "value": '2020-05-01'},
                {"label": "May 2, 2020", "value": '2020-05-02'},
                {"label": "May 3, 2020", "value": '2020-05-03'},
                {"label": "May 4, 2020", "value": '2020-05-04'},
                {"label": "May 5, 2020", "value": '2020-05-05'},
                {"label": "May 6, 2020", "value": '2020-05-06'},
                {"label": "May 7, 2020", "value": '2020-05-07'},
                {"label": "May 8, 2020", "value": '2020-05-08'},
                {"label": "May 9, 2020", "value": '2020-05-09'},
                {"label": "May 10, 2020", "value": '2020-05-10'},
                {"label": "May 11, 2020", "value": '2020-05-11'},
                {"label": "May 12, 2020", "value": '2020-05-12'},
                {"label": "May 13, 2020", "value": '2020-05-13'},
                {"label": "May 14, 2020", "value": '2020-05-14'},
                {"label": "May 15, 2020", "value": '2020-05-15'},
                {"label": "May 16, 2020", "value": '2020-05-16'},
                {"label": "May 17, 2020", "value": '2020-05-17'},
                {"label": "May 18, 2020", "value": '2020-05-18'},
                {"label": "May 19, 2020", "value": '2020-05-19'},
                {"label": "May 20, 2020", "value": '2020-05-20'},
                {"label": "May 21, 2020", "value": '2020-05-21'},
                {"label": "May 22, 2020", "value": '2020-05-22'},
                {"label": "May 23, 2020", "value": '2020-05-23'},
                {"label": "May 24, 2020", "value": '2020-05-24'},
                {"label": "May 25, 2020", "value": '2020-05-25'},
                {"label": "May 26, 2020", "value": '2020-05-26'},
                {"label": "May 27, 2020", "value": '2020-05-27'},
                {"label": "May 28, 2020", "value": '2020-05-28'},
                {"label": "May 29, 2020", "value": '2020-05-29'},
                {"label": "May 30, 2020", "value": '2020-05-30'},
                {"label": "May 31, 2020", "value": '2020-05-31'},

                {"label": "June 1, 2020", "value": '2020-06-01'},
                {"label": "June 2, 2020", "value": '2020-06-02'},
                {"label": "June 3, 2020", "value": '2020-06-03'},
                {"label": "June 4, 2020", "value": '2020-06-04'},
                {"label": "June 5, 2020", "value": '2020-06-05'},
                {"label": "June 6, 2020", "value": '2020-06-06'},
                {"label": "June 7, 2020", "value": '2020-06-07'},
                {"label": "June 8, 2020", "value": '2020-06-08'},
                {"label": "June 9, 2020", "value": '2020-06-09'},
                {"label": "June 10, 2020", "value": '2020-06-10'},
                {"label": "June 11, 2020", "value": '2020-06-11'},
                {"label": "June 12, 2020", "value": '2020-06-12'},
                {"label": "June 13, 2020", "value": '2020-06-13'},
                {"label": "June 14, 2020", "value": '2020-06-14'},
                {"label": "June 15, 2020", "value": '2020-06-15'},
                {"label": "June 16, 2020", "value": '2020-06-16'},
                {"label": "June 17, 2020", "value": '2020-06-17'},
                {"label": "June 18, 2020", "value": '2020-06-18'},
                {"label": "June 19, 2020", "value": '2020-06-19'},
                {"label": "June 20, 2020", "value": '2020-06-20'},
                {"label": "June 21, 2020", "value": '2020-06-21'},
                {"label": "June 22, 2020", "value": '2020-06-22'},
                {"label": "June 23, 2020", "value": '2020-06-23'},
                {"label": "June 24, 2020", "value": '2020-06-24'},
                {"label": "June 25, 2020", "value": '2020-06-25'},
                {"label": "June 26, 2020", "value": '2020-06-26'},
                {"label": "June 27, 2020", "value": '2020-06-27'},
                {"label": "June 28, 2020", "value": '2020-06-28'},
                {"label": "June 29, 2020", "value": '2020-06-29'},
                {"label": "June 30, 2020", "value": '2020-06-30'},

                {"label": "July 1, 2020", "value": '2020-07-01'},
                {"label": "July 2, 2020", "value": '2020-07-02'},
                {"label": "July 3, 2020", "value": '2020-07-03'},
                {"label": "July 4, 2020", "value": '2020-07-04'},
                {"label": "July 5, 2020", "value": '2020-07-05'},
                {"label": "July 6, 2020", "value": '2020-07-06'},
                {"label": "July 7, 2020", "value": '2020-07-07'},
                {"label": "July 8, 2020", "value": '2020-07-08'},
                {"label": "July 9, 2020", "value": '2020-07-09'},
                {"label": "July 10, 2020", "value": '2020-07-10'},
                {"label": "July 11, 2020", "value": '2020-07-11'},
                {"label": "July 12, 2020", "value": '2020-07-12'},
                {"label": "July 13, 2020", "value": '2020-07-13'},
                {"label": "July 14, 2020", "value": '2020-07-14'},
                {"label": "July 15, 2020", "value": '2020-07-15'},
                {"label": "July 16, 2020", "value": '2020-07-16'},
                {"label": "July 17, 2020", "value": '2020-07-17'},
                {"label": "July 18, 2020", "value": '2020-07-18'},
                {"label": "July 19, 2020", "value": '2020-07-19'},
                {"label": "July 20, 2020", "value": '2020-07-20'},
                {"label": "July 21, 2020", "value": '2020-07-21'},
                {"label": "July 22, 2020", "value": '2020-07-22'},
                {"label": "July 23, 2020", "value": '2020-07-23'},
                {"label": "July 24, 2020", "value": '2020-07-24'},
                {"label": "July 25, 2020", "value": '2020-07-25'},
                {"label": "July 26, 2020", "value": '2020-07-26'},
                {"label": "July 27, 2020", "value": '2020-07-27'},
                {"label": "July 28, 2020", "value": '2020-07-28'},
                {"label": "July 29, 2020", "value": '2020-07-29'},
                {"label": "July 30, 2020", "value": '2020-07-30'},
                {"label": "July 31, 2020", "value": '2020-07-31'},

                {"label": "August 1, 2020", "value": '2020-08-01'},
                {"label": "August 2, 2020", "value": '2020-08-02'},
                {"label": "August 3, 2020", "value": '2020-08-03'},
                {"label": "August 4, 2020", "value": '2020-08-04'},
                {"label": "August 5, 2020", "value": '2020-08-05'},
                {"label": "August 6, 2020", "value": '2020-08-06'},
                {"label": "August 7, 2020", "value": '2020-08-07'},
                {"label": "August 8, 2020", "value": '2020-08-08'},
                {"label": "August 9, 2020", "value": '2020-08-09'},
                {"label": "August 10, 2020", "value": '2020-08-10'},
                {"label": "August 11, 2020", "value": '2020-08-11'},
                {"label": "August 12, 2020", "value": '2020-08-12'},
                {"label": "August 13, 2020", "value": '2020-08-13'},
                {"label": "August 14, 2020", "value": '2020-08-14'},
                {"label": "August 15, 2020", "value": '2020-08-15'},
                {"label": "August 16, 2020", "value": '2020-08-16'},
                {"label": "August 17, 2020", "value": '2020-08-17'},
                {"label": "August 18, 2020", "value": '2020-08-18'},
                {"label": "August 19, 2020", "value": '2020-08-19'},
                {"label": "August 20, 2020", "value": '2020-08-20'},
                {"label": "August 21, 2020", "value": '2020-08-21'},
                {"label": "August 22, 2020", "value": '2020-08-22'},
                {"label": "August 23, 2020", "value": '2020-08-23'},
                {"label": "August 24, 2020", "value": '2020-08-24'},
                {"label": "August 25, 2020", "value": '2020-08-25'},
                {"label": "August 26, 2020", "value": '2020-08-26'},
                {"label": "August 27, 2020", "value": '2020-08-27'},
                {"label": "August 28, 2020", "value": '2020-08-28'},
                {"label": "August 29, 2020", "value": '2020-08-29'},
                {"label": "August 30, 2020", "value": '2020-08-30'},
                {"label": "August 31, 2020", "value": '2020-08-31'},

                {"label": "September 1, 2020", "value": '2020-09-01'},
                {"label": "September 2, 2020", "value": '2020-09-02'},
                {"label": "September 3, 2020", "value": '2020-09-03'},
                {"label": "September 4, 2020", "value": '2020-09-04'},
                {"label": "September 5, 2020", "value": '2020-09-05'},
                {"label": "September 6, 2020", "value": '2020-09-06'},
                {"label": "September 7, 2020", "value": '2020-09-07'},
                {"label": "September 8, 2020", "value": '2020-09-08'},
                {"label": "September 9, 2020", "value": '2020-09-09'},
                {"label": "September 10, 2020", "value": '2020-09-10'},
                {"label": "September 11, 2020", "value": '2020-09-11'},
                {"label": "September 12, 2020", "value": '2020-09-12'},
                {"label": "September 13, 2020", "value": '2020-09-13'},
                {"label": "September 14, 2020", "value": '2020-09-14'},
                {"label": "September 15, 2020", "value": '2020-09-15'},
                {"label": "September 16, 2020", "value": '2020-09-16'},
                {"label": "September 17, 2020", "value": '2020-09-17'},
                {"label": "September 18, 2020", "value": '2020-09-18'},
                {"label": "September 19, 2020", "value": '2020-09-19'},
                {"label": "September 20, 2020", "value": '2020-09-20'},
                {"label": "September 21, 2020", "value": '2020-09-21'},
                {"label": "September 22, 2020", "value": '2020-09-22'},
                {"label": "September 23, 2020", "value": '2020-09-23'},
                {"label": "September 24, 2020", "value": '2020-09-24'},
                {"label": "September 25, 2020", "value": '2020-09-25'},
                {"label": "September 26, 2020", "value": '2020-09-26'},
                {"label": "September 27, 2020", "value": '2020-09-27'},
                {"label": "September 28, 2020", "value": '2020-09-28'},
                {"label": "September 29, 2020", "value": '2020-09-29'},
                {"label": "September 30, 2020", "value": '2020-09-30'},

                {"label": "October 1, 2020", "value": '2020-10-01'},
                {"label": "October 2, 2020", "value": '2020-10-02'},
                {"label": "October 3, 2020", "value": '2020-10-03'},
                {"label": "October 4, 2020", "value": '2020-10-04'},
                {"label": "October 5, 2020", "value": '2020-10-05'},
                {"label": "October 6, 2020", "value": '2020-10-06'},
                {"label": "October 7, 2020", "value": '2020-10-07'},
                {"label": "October 8, 2020", "value": '2020-10-08'},
                {"label": "October 9, 2020", "value": '2020-10-09'},
                {"label": "October 10, 2020", "value": '2020-10-10'},
                {"label": "October 11, 2020", "value": '2020-10-11'},
                {"label": "October 12, 2020", "value": '2020-10-12'},
                {"label": "October 13, 2020", "value": '2020-10-13'},
                {"label": "October 14, 2020", "value": '2020-10-14'},
                {"label": "October 15, 2020", "value": '2020-10-15'},
                {"label": "October 16, 2020", "value": '2020-10-16'},
                {"label": "October 17, 2020", "value": '2020-10-17'},
                {"label": "October 18, 2020", "value": '2020-10-18'},
                {"label": "October 19, 2020", "value": '2020-10-19'},
                {"label": "October 20, 2020", "value": '2020-10-20'},
                {"label": "October 21, 2020", "value": '2020-10-21'},
                {"label": "October 22, 2020", "value": '2020-10-22'},
                {"label": "October 23, 2020", "value": '2020-10-23'},
                {"label": "October 24, 2020", "value": '2020-10-24'},
                {"label": "October 25, 2020", "value": '2020-10-25'},
                {"label": "October 26, 2020", "value": '2020-10-26'},
                {"label": "October 27, 2020", "value": '2020-10-27'},
                {"label": "October 28, 2020", "value": '2020-10-28'},
                {"label": "October 29, 2020", "value": '2020-10-29'},
                {"label": "October 30, 2020", "value": '2020-10-30'},
                {"label": "October 31, 2020", "value": '2020-10-31'},

                {"label": "November 1, 2020", "value": '2020-11-01'},
                {"label": "November 2, 2020", "value": '2020-11-02'},
                {"label": "November 3, 2020", "value": '2020-11-03'},
                {"label": "November 4, 2020", "value": '2020-11-04'},
                {"label": "November 5, 2020", "value": '2020-11-05'},
                {"label": "November 6, 2020", "value": '2020-11-06'},
                {"label": "November 7, 2020", "value": '2020-11-07'},
                {"label": "November 8, 2020", "value": '2020-11-08'},
                {"label": "November 9, 2020", "value": '2020-11-09'},
                {"label": "November 10, 2020", "value": '2020-11-10'},
                {"label": "November 11, 2020", "value": '2020-11-11'},
                {"label": "November 12, 2020", "value": '2020-11-12'},
                {"label": "November 13, 2020", "value": '2020-11-13'},
                {"label": "November 14, 2020", "value": '2020-11-14'},
                {"label": "November 15, 2020", "value": '2020-11-15'},
                {"label": "November 16, 2020", "value": '2020-11-16'},
                {"label": "November 17, 2020", "value": '2020-11-17'},
                {"label": "November 18, 2020", "value": '2020-11-18'},
                {"label": "November 19, 2020", "value": '2020-11-19'},
                {"label": "November 20, 2020", "value": '2020-11-20'},
                {"label": "November 21, 2020", "value": '2020-11-21'},
                {"label": "November 22, 2020", "value": '2020-11-22'},
                {"label": "November 23, 2020", "value": '2020-11-23'},
                {"label": "November 24, 2020", "value": '2020-11-24'},
                {"label": "November 25, 2020", "value": '2020-11-25'},
                {"label": "November 26, 2020", "value": '2020-11-26'},
                {"label": "November 27, 2020", "value": '2020-11-27'},
                {"label": "November 28, 2020", "value": '2020-11-28'},
                {"label": "November 29, 2020", "value": '2020-11-29'},
                {"label": "November 30, 2020", "value": '2020-11-30'},

                {"label": "December 1, 2020", "value": '2020-12-01'},
                {"label": "December 2, 2020", "value": '2020-12-02'},
                {"label": "December 3, 2020", "value": '2020-12-03'},
                {"label": "December 4, 2020", "value": '2020-12-04'},
                {"label": "December 5, 2020", "value": '2020-12-05'},
                {"label": "December 6, 2020", "value": '2020-12-06'},
                {"label": "December 7, 2020", "value": '2020-12-07'},
                {"label": "December 8, 2020", "value": '2020-12-08'},
                {"label": "December 9, 2020", "value": '2020-12-09'},
                {"label": "December 10, 2020", "value": '2020-12-10'},
                {"label": "December 11, 2020", "value": '2020-12-11'},
                {"label": "December 12, 2020", "value": '2020-12-12'},
                {"label": "December 13, 2020", "value": '2020-12-13'},
                {"label": "December 14, 2020", "value": '2020-12-14'},
                {"label": "December 15, 2020", "value": '2020-12-15'},
                {"label": "December 16, 2020", "value": '2020-12-16'},
                {"label": "December 17, 2020", "value": '2020-12-17'},
                {"label": "December 18, 2020", "value": '2020-12-18'},
                {"label": "December 19, 2020", "value": '2020-12-19'},
                {"label": "December 20, 2020", "value": '2020-12-20'},
                {"label": "December 21, 2020", "value": '2020-12-21'},
                {"label": "December 22, 2020", "value": '2020-12-22'},
                {"label": "December 23, 2020", "value": '2020-12-23'},
                {"label": "December 24, 2020", "value": '2020-12-24'},
                {"label": "December 25, 2020", "value": '2020-12-25'},
                {"label": "December 26, 2020", "value": '2020-12-26'},
                {"label": "December 27, 2020", "value": '2020-12-27'},
                {"label": "December 28, 2020", "value": '2020-12-28'},
                {"label": "December 29, 2020", "value": '2020-12-29'},
                {"label": "December 30, 2020", "value": '2020-12-30'},
                {"label": "December 31, 2020", "value": '2020-12-31'},

                {"label": "January 1, 2021", "value": '2021-01-01'},
                {"label": "January 2, 2021", "value": '2021-01-02'},
                {"label": "January 3, 2021", "value": '2021-01-03'},
                {"label": "January 4, 2021", "value": '2021-01-04'},
                {"label": "January 5, 2021", "value": '2021-01-05'},
                {"label": "January 6, 2021", "value": '2021-01-06'},
                {"label": "January 7, 2021", "value": '2021-01-07'},
                {"label": "January 8, 2021", "value": '2021-01-08'},
                {"label": "January 9, 2021", "value": '2021-01-09'},
                {"label": "January 10, 2021", "value": '2021-01-10'},
                {"label": "January 11, 2021", "value": '2021-01-11'},
                {"label": "January 12, 2021", "value": '2021-01-12'},
                {"label": "January 13, 2021", "value": '2021-01-13'},
                {"label": "January 14, 2021", "value": '2021-01-14'},
                {"label": "January 15, 2021", "value": '2021-01-15'},
                {"label": "January 16, 2021", "value": '2021-01-16'},
                {"label": "January 17, 2021", "value": '2021-01-17'},
                {"label": "January 18, 2021", "value": '2021-01-18'},
                {"label": "January 19, 2021", "value": '2021-01-19'},
                {"label": "January 20, 2021", "value": '2021-01-20'},
                {"label": "January 21, 2021", "value": '2021-01-21'},
                {"label": "January 22, 2021", "value": '2021-01-22'},
                {"label": "January 23, 2021", "value": '2021-01-23'},
                {"label": "January 24, 2021", "value": '2021-01-24'},
                {"label": "January 25, 2021", "value": '2021-01-25'},
                {"label": "January 26, 2021", "value": '2021-01-26'},
                {"label": "January 27, 2021", "value": '2021-01-27'},
                {"label": "January 28, 2021", "value": '2021-01-28'},
                {"label": "January 29, 2021", "value": '2021-01-29'},
                {"label": "January 30, 2021", "value": '2021-01-30'},
                {"label": "January 31, 2021", "value": '2021-01-31'},

                {"label": "February 1, 2021", "value": '2021-02-01'},
                {"label": "February 2, 2021", "value": '2021-02-02'},
                {"label": "February 3, 2021", "value": '2021-02-03'},
                {"label": "February 4, 2021", "value": '2021-02-04'},
                {"label": "February 5, 2021", "value": '2021-02-05'},
                {"label": "February 6, 2021", "value": '2021-02-06'},
                {"label": "February 7, 2021", "value": '2021-02-07'},
                {"label": "February 8, 2021", "value": '2021-02-08'},
                {"label": "February 9, 2021", "value": '2021-02-09'},
                {"label": "February 10, 2021", "value": '2021-02-10'},
                {"label": "February 11, 2021", "value": '2021-02-11'},
                {"label": "February 12, 2021", "value": '2021-02-12'},
                {"label": "February 13, 2021", "value": '2021-02-13'},
                {"label": "February 14, 2021", "value": '2021-02-14'},
                {"label": "February 15, 2021", "value": '2021-02-15'},
                {"label": "February 16, 2021", "value": '2021-02-16'},
                {"label": "February 17, 2021", "value": '2021-02-17'},
                {"label": "February 18, 2021", "value": '2021-02-18'},
                {"label": "February 19, 2021", "value": '2021-02-19'},
                {"label": "February 20, 2021", "value": '2021-02-20'},
                {"label": "February 21, 2021", "value": '2021-02-21'},
                {"label": "February 22, 2021", "value": '2021-02-22'},
                {"label": "February 23, 2021", "value": '2021-02-23'},
                {"label": "February 24, 2021", "value": '2021-02-24'},
                {"label": "February 25, 2021", "value": '2021-02-25'},
                {"label": "February 26, 2021", "value": '2021-02-26'},
                {"label": "February 27, 2021", "value": '2021-02-27'},
                {"label": "February 28, 2021", "value": '2021-02-28'},
                {"label": "February 29, 2021", "value": '2021-02-29'},

                {"label": "March 1, 2021", "value": '2021-03-01'},
                {"label": "March 2, 2021", "value": '2021-03-02'},
                {"label": "March 3, 2021", "value": '2021-03-03'},
                {"label": "March 4, 2021", "value": '2021-03-04'},
                {"label": "March 5, 2021", "value": '2021-03-05'},
                {"label": "March 6, 2021", "value": '2021-03-06'},
                {"label": "March 7, 2021", "value": '2021-03-07'},
                {"label": "March 8, 2021", "value": '2021-03-08'},
                {"label": "March 9, 2021", "value": '2021-03-09'},
                {"label": "March 10, 2021", "value": '2021-03-10'},
                {"label": "March 11, 2021", "value": '2021-03-11'},
                {"label": "March 12, 2021", "value": '2021-03-12'},
                {"label": "March 13, 2021", "value": '2021-03-13'},
                {"label": "March 14, 2021", "value": '2021-03-14'},
                {"label": "March 15, 2021", "value": '2021-03-15'},
                {"label": "March 16, 2021", "value": '2021-03-16'},
                {"label": "March 17, 2021", "value": '2021-03-17'},
                {"label": "March 18, 2021", "value": '2021-03-18'},
                {"label": "March 19, 2021", "value": '2021-03-19'},
                {"label": "March 20, 2021", "value": '2021-03-20'},
                {"label": "March 21, 2021", "value": '2021-03-21'},
                {"label": "March 22, 2021", "value": '2021-03-22'},
                {"label": "March 23, 2021", "value": '2021-03-23'},
                {"label": "March 24, 2021", "value": '2021-03-24'},
                {"label": "March 25, 2021", "value": '2021-03-25'},
                {"label": "March 26, 2021", "value": '2021-03-26'},
                {"label": "March 27, 2021", "value": '2021-03-27'},
                {"label": "March 28, 2021", "value": '2021-03-28'},
                {"label": "March 29, 2021", "value": '2021-03-29'},
                {"label": "March 30, 2021", "value": '2021-03-30'},
                {"label": "March 31, 2021", "value": '2021-03-31'},

                {"label": "April 1, 2021", "value": '2021-04-01'},
                {"label": "April 2, 2021", "value": '2021-04-02'},
                {"label": "April 3, 2021", "value": '2021-04-03'},
                {"label": "April 4, 2021", "value": '2021-04-04'},
                {"label": "April 5, 2021", "value": '2021-04-05'},
                {"label": "April 6, 2021", "value": '2021-04-06'},
                {"label": "April 7, 2021", "value": '2021-04-07'},
                {"label": "April 8, 2021", "value": '2021-04-08'},
                {"label": "April 9, 2021", "value": '2021-04-09'},
                {"label": "April 10, 2021", "value": '2021-04-10'},
                {"label": "April 11, 2021", "value": '2021-04-11'},
                {"label": "April 12, 2021", "value": '2021-04-12'},
                {"label": "April 13, 2021", "value": '2021-04-13'},
                {"label": "April 14, 2021", "value": '2021-04-14'},
                {"label": "April 15, 2021", "value": '2021-04-15'},
                {"label": "April 16, 2021", "value": '2021-04-16'},
                {"label": "April 17, 2021", "value": '2021-04-17'},
                {"label": "April 18, 2021", "value": '2021-04-18'},
                {"label": "April 19, 2021", "value": '2021-04-19'},
                {"label": "April 20, 2021", "value": '2021-04-20'},
                {"label": "April 21, 2021", "value": '2021-04-21'},
                {"label": "April 22, 2021", "value": '2021-04-22'},
                {"label": "April 23, 2021", "value": '2021-04-23'},
                {"label": "April 24, 2021", "value": '2021-04-24'},
                {"label": "April 25, 2021", "value": '2021-04-25'},
                {"label": "April 26, 2021", "value": '2021-04-26'},
                {"label": "April 27, 2021", "value": '2021-04-27'},
                {"label": "April 28, 2021", "value": '2021-04-28'},
                {"label": "April 29, 2021", "value": '2021-04-29'},
                {"label": "April 30, 2021", "value": '2021-04-30'},

            ],
            multi=False,
            value='2020-01-20',
            style={"width": "60%"},
        ),
        html.Div(id="output_container", children=[]),
        dcc.Graph(id="sentiment_map", figure={}),
        html.Video(src='/static/covid-race.mp4',controls=True, style={'align': 'center'}),
        html.H5(
            "Data Source: https://github.com/GoogleCloudPlatform/covid-19-open-data",
            style={"text-align": "right"},
        ),
    ],   style={'width': 700, 'margin': 'auto'}
)


# ------------------------------------------------------------------------------
# Connect the Plotly graphs with Dash Components
@app.callback(
    [
        Output(component_id="output_container", component_property="children"),
        Output(component_id="sentiment_map", component_property="figure"),
    ],
    [Input(component_id="selected_date", component_property="value")],
)
def update_graph(date_selected):

    container = ""

    fig = px.choropleth(
        locations=list(df.columns)
        , locationmode="USA-states"
        , color=df.loc[date_selected]
        , labels={"color": "Cases", "locations": "State"}
        , color_continuous_scale=px.colors.sequential.Bluered
        , scope="usa")

    return container, fig

@server.route('/static/<path:path>')
def serve_static(path):
    root_dir = os.getcwd()
    return flask.send_from_directory(os.path.join(root_dir, 'static'), path)

# --------------------------------
if __name__ == "__main__":
    app.run_server(mode="inline")


# https://plotly.github.io/plotly.py-docs/generated/plotly.express.choropleth.html
# https://plotly.com/python/choropleth-maps/
# https://github.com/GoogleCloudPlatform/covid-19-open-data
# https://www.dunderdata.com/blog/create-a-bar-chart-race-animation-in-python-with-matplotlib